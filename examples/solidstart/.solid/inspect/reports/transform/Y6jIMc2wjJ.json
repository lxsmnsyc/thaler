{"resolvedId":"D:/Files/Github/thaler/node_modules/.pnpm/solid-start@0.2.26_@solidjs+meta@0.28.2_@solidjs+router@0.8.2_solid-js@1.7.2_solid-start-node@0.2.19_vite@4.2.1/node_modules/solid-start/islands/clientOnly.tsx?v=9590c33f","transforms":[{"name":"__load__","result":"import type { Component, ComponentProps, JSX } from \"solid-js\";\nimport { createMemo, createSignal, onMount, sharedConfig, splitProps, untrack } from \"solid-js\";\nimport { isServer } from \"solid-js/web\";\n\n// not using Suspense\nexport default function clientOnly<T extends Component<any>>(\n  fn: () => Promise<{\n    default: T;\n  }>\n) {\n  if (isServer) return (props: ComponentProps<T> & { fallback?: JSX.Element }) => props.fallback;\n\n  const [comp, setComp] = createSignal<T>();\n  fn().then(m => setComp(() => m.default));\n  return (props: ComponentProps<T>) => {\n    let Comp: T | undefined;\n    let m: boolean;\n    const [, rest] = splitProps(props, [\"fallback\"]);\n    if ((Comp = comp()) && !sharedConfig.context) return Comp(rest);\n    const [mounted, setMounted] = createSignal(!sharedConfig.context);\n    onMount(() => setMounted(true));\n    return createMemo(\n      () => (\n        (Comp = comp()), (m = mounted()), untrack(() => (Comp && m ? Comp(rest) : props.fallback))\n      )\n    );\n  };\n}\n","start":1681089272350,"end":1681089272350},{"name":"solid","result":"import { createMemo, createSignal, onMount, sharedConfig, splitProps, untrack } from \"solid-js\";\nimport { isServer } from \"solid-js/web\";\n\n// not using Suspense\nexport default function clientOnly(fn) {\n  if (isServer) return props => props.fallback;\n  const [comp, setComp] = createSignal();\n  fn().then(m => setComp(() => m.default));\n  return props => {\n    let Comp;\n    let m;\n    const [, rest] = splitProps(props, [\"fallback\"]);\n    if ((Comp = comp()) && !sharedConfig.context) return Comp(rest);\n    const [mounted, setMounted] = createSignal(!sharedConfig.context);\n    onMount(() => setMounted(true));\n    return createMemo(() => (Comp = comp(), m = mounted(), untrack(() => Comp && m ? Comp(rest) : props.fallback)));\n  };\n}","start":1681089272350,"end":1681089272358,"order":"pre"},{"name":"vite:import-analysis","result":"import { createMemo, createSignal, onMount, sharedConfig, splitProps, untrack } from \"/node_modules/.vite/deps/solid-js.js?v=9590c33f\";\nimport { isServer } from \"/node_modules/.vite/deps/solid-js_web.js?v=9590c33f\";\n\n// not using Suspense\nexport default function clientOnly(fn) {\n  if (isServer) return props => props.fallback;\n  const [comp, setComp] = createSignal();\n  fn().then(m => setComp(() => m.default));\n  return props => {\n    let Comp;\n    let m;\n    const [, rest] = splitProps(props, [\"fallback\"]);\n    if ((Comp = comp()) && !sharedConfig.context) return Comp(rest);\n    const [mounted, setMounted] = createSignal(!sharedConfig.context);\n    onMount(() => setMounted(true));\n    return createMemo(() => (Comp = comp(), m = mounted(), untrack(() => Comp && m ? Comp(rest) : props.fallback)));\n  };\n}","start":1681089272358,"end":1681089272359,"order":"normal"}]}
